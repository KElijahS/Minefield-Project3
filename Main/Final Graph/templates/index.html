<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gender in Popular Music 1941-2020</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            background-image: url('https://w7.pngwing.com/pngs/447/505/png-transparent-sound-wave-line-black-and-white-angle-point-pattern-sound-wave-curve-texture-white-flag.png');
            background-repeat: no-repeat;
            background-attachment: fixed; 
            background-size: 100% 100%;
        }
    </style>

    <!--Background not working-->
    <!--Link to CSS file-->
    <!--<link rel="stylesheet" href="styles.css">-->    
</head>
<body>
<!--Title-->
    <div class= "container">
        <div class="container-fluid bg-light p-5">
            <h1>Gender in Popular Music</h1>
            <p>Data based on Billboard Year End Charts from 1941 to 2020</p>

        </div>

        <br>

        <div class= "container">
            <div class= "row">
<!--ButtonBarplot-->
                <div class= "col-md-8">
                    <h2>Year by Year</h2>
                    <script>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 jumbotron text-center">
                            <h1>Billboard Dashboard</h1>
                            <p>Use the interactive charts below to explore the dataset</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                            <div class="well">
                                <h5>Year:
                                </h5>
                                <select id="selYear" onchange="optionChanged(this.value)"></select>
                            </div>
                            </div>

                            <div class="col-md-10">
                            <div id="bar"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                            <div id="table-area">
                                <table id="songs-table" class="table table-striped">
                                <tbody></tbody>
                                </table>
                            </div>
                            </div>
                        </div>
                        </div>     
                    </script>
                            <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
                            <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
                            <script src="app.js"></script>
                    <h5><h5>
                        <p></p>   
                </div>

<!--InfoCard-->
                <div class="card" style="width: 25rem;">
                    <div class="card-body">
                    <h5 class="card-title">Background</h5>
                    <p class="card-text">Music is a universal and timeless part of the human experience. Every age, culture and religion have a connection to it. Music can tell us so much about a culture, through lyrics, themes, melodies or who is included. This page uses the year end charts published by Billboard Magazine, to see what music has to say about gender in our own society, the USA, from 1941 to now.</p>
                    <a href="http://billboardtop100of.com/" class="card-link">billboardtop100of.com</a>
                    <a href="https://www.billboard.com/charts/year-end/" class="card-link">Billboard.com</a>
                    </div>
                </div>

            <br>
            <br>
            <br>
            <br>
            <br>

<!--1941 Pie Chart-->
            <div class= "row">
                <div class= "col-md-4">
                    <h2>1941</h2>
                     <!--Doughnut Chart-->
                    <div id="1941PieChart"></div>
                    <canvas id="myChart" width="300" height="300"></canvas>
                    <script>
                        var ctx = document.getElementById("myChart");
                        var myChart = new Chart(ctx, 
                        {
                            type: 'pie',
                            data: 
                            {
                                labels: {{ labels | safe }},
                                datasets: 
                                [
                                    {
                                        label: 'Genders for Top 100 (1941)',
                                        data: {{ values | safe }},
                                        backgroundColor: 
                                        [
                                            'rgba(13, 0, 252, 0.5)',
                                            'rgba(252, 0, 114, 0.25)',
                                            'rgba(0, 221, 255, 0.25)',
                                            'rgba(252, 221, 193, .5)',
                                            'rgba(200, 252, 194, .5)'
                                        ], 
                                        borderColor: 
                                        [
                                            'rgba(13, 0, 252, 0.75)',
                                            'rgba(252, 0, 114, 0.5)',
                                            'rgba(0, 221, 255, 1)',
                                            'rgba(252, 221, 193, 1)',
                                            'rgba(200, 252, 194, 1)'
                                        ],
                                    borderWidth: 1
                                    }
                                ]
                            },
                            options: 
                            {
                                //cutoutPercentage: 40,
                                responsive: false,
                            }
                        });
                    </script>
                </div>

<!--2020 Pie Chart-->
                <div class= "col-md-4">
                    <h2>2020</h2>
                    <div id="2020PieChart"></div>
                    <canvas id="pieChart" width="300" height="300"></canvas>
                    <script>
                        var ctx = document.getElementById("pieChart");
                        var pieChart = new Chart(ctx, 
                        {
                            type: 'pie',
                            data: 
                            {
                                labels: {{ labels | safe }},
                                datasets: 
                                [
                                    {
                                        label: 'Genders for Top 100 (2020)',
                                        data: {{ values2 | safe }},
                                        backgroundColor: 
                                        [
                                            'rgba(13, 0, 252, 0.5)',
                                            'rgba(252, 0, 114, 0.25)',
                                            'rgba(0, 221, 255, 0.25)',
                                            'rgba(252, 221, 193, .5)',
                                            'rgba(200, 252, 194, .5)'
                                        ], 
                                        borderColor: 
                                        [
                                            'rgba(13, 0, 252, 0.75)',
                                            'rgba(252, 0, 114, 0.5)',
                                            'rgba(0, 221, 255, 1)',
                                            'rgba(252, 221, 193, 1)',
                                            'rgba(200, 252, 194, 1)'
                                        ],
                                    borderWidth: 1
                                    }
                                ]
                            },
                            options: 
                            {
                                //cutoutPercentage: 40,
                                responsive: false,
                            }
                        });
                    </script>
                </div>
<!--Top Artist Scrape Button-->
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title">Current Top Artist</h5>
                      <img src="https://charts-static.billboard.com/img/2021/10/adele-000-easy-on-me-zy9-180x180.jpg" alt="MariahCarey">
                      <!--<img src="{{ topArtist.artist_img }}" alt="MariahCarey">-->
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Artist Name: Adele</li>  
                        <!--<li class="list-group-item">Artist Name</li>-->
                        <li class="list-group-item"> Song: Easy On Me </li>
                        <!--<li class="list-group-item"> Song: {{ topArtist.song }} </li>-->
                    </ul>
                    <div class="card-body">
                        <!--<a class="btn btn-primary" href="/scrape" role="button">Top Artist</a>-->
                        <button href="/scrape" role="button">Top Artist</button>
                        <a href="https://www.billboard.com/charts/hot-100/" class="card-link">Top 100 Page</a>
                    </div>
                  </div>
            </div>

            <br>
            <br>
            <br>
            <br>

<!--Area Graph-->
            <div class= "row">
                <div class= "col-md-12">
                    <h2>Area Graph</h2>
                    <div id="AreaLineChart"></div>
                    <canvas id="myChart2" width="400" height="200"></canvas>
                    <script>
                        var ctx = document.getElementById("myChart2");
                        var myChart2 = new Chart(ctx,
                        {
                            type: 'line',
                            data:
                            {
                                labels: [1941,1945,1950,1955,1960,1965,1970,1975,1980,1985,1990,1995,2000,2005,2010,2015,2020],
                                //{{ labels2 | safe }},
                                datasets: 
                                [
                                    {
                                        label: 'Male',
                                        data: {{ dataMale | safe }},
                                        borderColor: 'rgba(13, 0, 252, .75)',
                                        backgroundColor: 'rgba(13, 0, 252, 0.5)',
                                        fill: 'origin'
                                    },
                                    {
                                        label: 'Female',
                                        data: {{ dataFemale | safe }},
                                        borderColor: 'rgba(252, 0, 114, 0.5)',
                                        backgroundColor: 'rgba(252, 0, 114, 0.25)',
                                        fill: 'origin'
                                    },
                                    {
                                        label: 'Male Group',
                                        data: {{ dataMaleG | safe }},
                                        borderColor: 'rgba(0, 221, 255, 1)',
                                        backgroundColor: 'rgba(0, 221, 255, 0.25)',
                                        fill: 'origin'
                                    },
                                    {
                                        label: 'Female Group',
                                        data: {{ dataFemaleG | safe }},
                                        borderColor: 'rgba(252, 221, 193, 1)',
                                        backgroundColor: 'rgba(252, 221, 193, .5)',
                                        fill: 'origin'
                                    },
                                    {
                                        label: 'Mixed Group',
                                        data: {{ dataMixed | safe }},
                                        borderColor: 'rgba(200, 252, 194, 1)',
                                        backgroundColor: 'rgba(200, 252, 194, .5)',
                                        fill: 'origin'
                                    }
                                ]
                            },
                            options: 
                            {
                                scales: 
                                {
                                    y: 
                                    {
                                        stacked: true
                                    }
                                },
                                plugins: 
                                {
                                    filler: 
                                    {
                                        propagate: false
                                    },
                                    'samples-filler-analyser': 
                                    {
                                        target: 'chart-analyser'
                                    }
                                },
                                interaction: 
                                {
                                    intersect: false,
                                }
                            }
                        });
                    </script>
                </div>
            </div>

        </div>
        
    </div>   
</body>
</html>